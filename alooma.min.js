(function() {
(function(u){function q(){}function k(){}function H(a,b,e){var f,d="alooma"===e?u:u[e];if(d&&!c.isArray(d))t.error("You have already initialized "+e);else return f=new k,f.Fa(a,b,e),f.people=new q,f.people.Fa(f),y=y||f.h("debug"),c.o(d)||(f.s.call(f.people,d.people),f.s(d)),f}function n(a){this.props={};this.w=!1;a.persistence_name?this.name="mp_"+a.persistence_name:this.name="mp_"+a.token+"_alooma";var b=a.persistence;"cookie"!==b&&"localStorage"!==b&&(t.ha('Unknown persistence type "'+b+'"; falling back to "cookie"'),
b=a.persistence="cookie");if(b="localStorage"===b){b=!0;try{c.localStorage.set("__mplssupport__","xyz"),"xyz"!==c.localStorage.get("__mplssupport__")&&(b=!1),c.localStorage.remove("__mplssupport__")}catch(e){b=!1}b||t.error("localStorage unsupported; falling back to cookie store")}b?this.a=c.localStorage:this.a=c.cookie;this.N();this.vb(a);this.Ea(a);this.save()}function I(){this.rb="submit"}function E(){this.rb="click"}function x(){}function z(){z.done||(M=z.done=!0,N=!1,c.g(A,function(a){a.Eb()}))}
var L=Array.prototype,P=Function.prototype,B=Object.prototype,F=L.slice,G=B.toString,J=B.hasOwnProperty,w=window.console,C=window.navigator,p=window.document,v=C.userAgent,Q="__mps __mpso __mpa __mpap __mpu $people_distinct_id __alias __cmpns".split(" "),B=u&&u.__SV||0,K=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,N=!K&&-1==v.indexOf("MSIE")&&-1==v.indexOf("Mozilla"),c={},y=!1,R={api_host:("https:"==p.location.protocol?"https://":"http://")+"api.alooma.com",cross_subdomain_cookie:!0,
persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0},M=!1;(function(){var a=P.bind,b=L.forEach,e=L.indexOf,f=Array.isArray,d={};c.bind=function(b,e){var d,f;if(a&&b.bind===a)return a.apply(b,F.call(arguments,1));if(!c.nb(b))throw new TypeError;d=F.call(arguments,2);return f=
function(){if(!(this instanceof f))return b.apply(e,d.concat(F.call(arguments)));ctor.prototype=b.prototype;var a=new ctor;ctor.prototype=null;var c=b.apply(a,d.concat(F.call(arguments)));return Object(c)===c?c:a}};c.Ob=function(a){for(var b in a)"function"===typeof a[b]&&(a[b]=c.bind(a[b],a))};var l=c.g=function(a,e,c){if(null!=a)if(b&&a.forEach===b)a.forEach(e,c);else if(a.length===+a.length)for(var f=0,l=a.length;f<l&&!(f in a&&e.call(c,a[f],f,a)===d);f++);else for(f in a)if(J.call(a,f)&&e.call(c,
a[f],f,a)===d)break};c.I=function(a){a&&c.Pa(a)&&(a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"));return a};c.extend=function(a){l(F.call(arguments,1),function(b){for(var e in b)void 0!==b[e]&&(a[e]=b[e])});return a};c.isArray=f||function(a){return"[object Array]"===G.call(a)};c.nb=function(a){try{return/^\s*\bfunction\b/.test(a)}catch(b){return!1}};c.Zb=function(a){return!(!a||!J.call(a,"callee"))};c.la=function(a){return a?a.la?
a.la():c.isArray(a)||c.Zb(a)?F.call(a):c.values(a):[]};c.values=function(a){var b=[];if(null==a)return b;l(a,function(a){b[b.length]=a});return b};c.pc=function(a){return a};c.kb=function(a,b){var c=!1;if(null==a)return c;if(e&&a.indexOf===e)return-1!=a.indexOf(b);l(a,function(a){if(c||(c=a===b))return d});return c};c.includes=function(a,b){return-1!==a.indexOf(b)}})();c.lb=function(a,b){a.prototype=new b;a.prototype.constructor=a;a.jc=b.prototype};c.v=function(a){return a===Object(a)&&!c.isArray(a)};
c.$=function(a){if(c.v(a)){for(var b in a)if(J.call(a,b))return!1;return!0}return!1};c.o=function(a){return void 0===a};c.Pa=function(a){return"[object String]"==G.call(a)};c.$b=function(a){return"[object Date]"==G.call(a)};c.ac=function(a){return"[object Number]"==G.call(a)};c.gb=function(a){c.g(a,function(b,e){c.$b(b)?a[e]=c.Xb(b):c.v(b)&&(a[e]=c.gb(b))});return a};c.Xb=function(a){function b(a){return 10>a?"0"+a:a}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+
":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())};c.C=function(a){return function(){try{a.apply(this,arguments)}catch(b){t.ha("Implementation error. Please contact support@alooma.com.")}}};c.ec=function(a){for(var b=["identify","_check_and_handle_notifications","_show_notification"],e=0;e<b.length;e++)a.prototype[b[e]]=c.C(a.prototype[b[e]])};c.ya=function(a){var b={};c.g(a,function(a,f){c.Pa(a)&&0<a.length&&(b[f]=a)});return b};c.truncate=function(a,b){var e;"string"===typeof a?e=a.slice(0,b):c.isArray(a)?
(e=[],c.g(a,function(a){e.push(c.truncate(a,b))})):c.v(a)?(e={},c.g(a,function(a,d){e[d]=c.truncate(a,b)})):e=a;return e};c.qa=function(){return function(a){function b(a,d){var l="",m=0,h=m="",h=0,g=l,k=[],r=d[a];r&&"object"===typeof r&&"function"===typeof r.toJSON&&(r=r.toJSON(a));switch(typeof r){case "string":return c(r);case "number":return isFinite(r)?String(r):"null";case "boolean":case "null":return String(r);case "object":if(!r)return"null";l+="    ";k=[];if("[object Array]"===G.apply(r)){h=
r.length;for(m=0;m<h;m+=1)k[m]=b(m,r)||"null";return h=0===k.length?"[]":l?"[\n"+l+k.join(",\n"+l)+"\n"+g+"]":"["+k.join(",")+"]"}for(m in r)J.call(r,m)&&(h=b(m,r))&&k.push(c(m)+(l?": ":":")+h);return h=0===k.length?"{}":l?"{"+k.join(",")+""+g+"}":"{"+k.join(",")+"}"}}function c(a){var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};b.lastIndex=
0;return b.test(a)?'"'+a.replace(b,function(a){var b=e[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}return b("",{"":a})}}();c.pa=function(){function a(){switch(h){case "t":return d("t"),d("r"),d("u"),d("e"),!0;case "f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case "n":return d("n"),d("u"),d("l"),d("l"),null}l("Unexpected '"+h+"'")}function b(){for(;h&&" ">=h;)d()}function c(){var a,b,e="",f;if('"'===h)for(;d();){if('"'===h)return d(),e;if("\\"===
h)if(d(),"u"===h){for(b=f=0;4>b;b+=1){a=parseInt(d(),16);if(!isFinite(a))break;f=16*f+a}e+=String.fromCharCode(f)}else if("string"===typeof g[h])e+=g[h];else break;else e+=h}l("Bad string")}function f(){var a;a="";"-"===h&&(a="-",d("-"));for(;"0"<=h&&"9">=h;)a+=h,d();if("."===h)for(a+=".";d()&&"0"<=h&&"9">=h;)a+=h;if("e"===h||"E"===h){a+=h;d();if("-"===h||"+"===h)a+=h,d();for(;"0"<=h&&"9">=h;)a+=h,d()}a=+a;if(isFinite(a))return a;l("Bad number")}function d(a){a&&a!==h&&l("Expected '"+a+"' instead of '"+
h+"'");h=k.charAt(m);m+=1;return h}function l(a){throw{name:"SyntaxError",message:a,oc:m,text:k};}var m,h,g={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},k,r;r=function(){b();switch(h){case "{":var m;a:{var g={};if("{"===h){d("{");b();if("}"===h){d("}");m=g;break a}for(;h;){m=c();b();d(":");Object.hasOwnProperty.call(g,m)&&l('Duplicate key "'+m+'"');g[m]=r();b();if("}"===h){d("}");m=g;break a}d(",");b()}}l("Bad object");m=void 0}return m;case "[":a:{m=[];if("["===h){d("[");b();if("]"===
h){d("]");break a}for(;h;){m.push(r());b();if("]"===h){d("]");break a}d(",");b()}}l("Bad array");m=void 0}return m;case '"':return c();case "-":return f();default:return"0"<=h&&"9">=h?f():a()}};return function(a){k=a;m=0;h=" ";a=r();b();h&&l("Syntax error");return a}}();c.ab=function(a){var b,e,f,d,l=0,m=0,h="",h=[];if(!a)return a;a=c.lc(a);do b=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),d=b<<16|e<<8|f,b=d>>18&63,e=d>>12&63,f=d>>6&63,d&=63,h[m++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d);while(l<a.length);h=h.join("");switch(a.length%3){case 1:h=h.slice(0,-2)+"==";break;case 2:h=h.slice(0,-1)+"="}return h};c.lc=function(a){a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b="",c,f,d=0,l;c=f=0;d=a.length;for(l=0;l<d;l++){var m=a.charCodeAt(l),h=null;
128>m?f++:h=127<m&&2048>m?String.fromCharCode(m>>6|192,m&63|128):String.fromCharCode(m>>12|224,m>>6&63|128,m&63|128);null!==h&&(f>c&&(b+=a.substring(c,f)),b+=h,c=f=l+1)}f>c&&(b+=a.substring(c,a.length));return b};c.Cb=function(){function a(){function a(b,c){var e,d=0;for(e=0;e<c.length;e++)d|=l[e]<<8*e;return b^d}var b,c,l=[],m=0;for(b=0;b<v.length;b++)c=v.charCodeAt(b),l.unshift(c&255),4<=l.length&&(m=a(m,l),l=[]);0<l.length&&(m=a(m,l));return m.toString(16)}function b(){for(var a=1*new Date,b=0;a==
1*new Date;)b++;return a.toString(16)+b.toString(16)}return function(){var c=(screen.height*screen.width).toString(16);return b()+"-"+Math.random().toString(16).replace(".","")+"-"+a()+"-"+c+"-"+b()}}();c.mb=function(a){return/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(a)?!0:!1};c.Bb=function(a){var b,e,f,d=[];"undefined"===typeof b&&(b="&");c.g(a,function(a,b){e=encodeURIComponent(a.toString());f=encodeURIComponent(b);d[d.length]=f+"="+e});return d.join(b)};
c.hb=function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(a);return null===c||c&&"string"!==typeof c[1]&&c[1].length?"":decodeURIComponent(c[1]).replace(/\+/g," ")};c.cookie={get:function(a){a=a+"=";for(var b=p.cookie.split(";"),c=0;c<b.length;c++){for(var f=b[c];" "==f.charAt(0);)f=f.substring(1,f.length);if(0==f.indexOf(a))return decodeURIComponent(f.substring(a.length,f.length))}return null},parse:function(a){var b;try{b=c.pa(c.cookie.get(a))||
{}}catch(e){}return b},set:function(a,b,c,f,d){var l="",m="",h="";f&&(l=(l=(l=p.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?l[0]:"")?"; domain=."+l:"");c&&(m=new Date,m.setTime(m.getTime()+864E5*c),m="; expires="+m.toGMTString());d&&(h="; secure");p.cookie=a+"="+encodeURIComponent(b)+m+"; path=/"+l+h},remove:function(a,b){c.cookie.set(a,"",-1,b)}};c.localStorage={error:function(a){t.error("localStorage error: "+a)},get:function(a){try{return window.localStorage.getItem(a)}catch(b){c.localStorage.error(b)}return null},
parse:function(a){try{return c.pa(c.localStorage.get(a))||{}}catch(b){}return null},set:function(a,b){try{window.localStorage.setItem(a,b)}catch(e){c.localStorage.error(e)}},remove:function(a){try{window.localStorage.removeItem(a)}catch(b){c.localStorage.error(b)}}};c.aa=function(){function a(a,f,d){return function(l){if(l=l||b(window.event)){var m=!0,h;c.nb(d)&&(h=d(l));l=f.call(a,l);if(!1===h||!1===l)m=!1;return m}}}function b(a){a&&(a.preventDefault=b.preventDefault,a.stopPropagation=b.stopPropagation);
return a}b.preventDefault=function(){this.returnValue=!1};b.stopPropagation=function(){this.cancelBubble=!0};return function(b,c,d,l){b?b.addEventListener&&!l?b.addEventListener(c,d,!1):(c="on"+c,b[c]=a(b,d,b[c])):t.error("No valid element provided to register_event")}}();c.Wb=function(){function a(a){return a.all?a.all:a.getElementsByTagName("*")}function b(a,b){var c=" "+b+" ";return 0<=(" "+a.className+" ").replace(e," ").indexOf(c)}var e=/[\t\r\n]/g;return function(e){if(!p.getElementsByTagName)return[];
e=e.split(" ");for(var d,l=Array(p),m=0;m<e.length;m++)if(d=e[m].replace(/^\s+/,"").replace(/\s+$/,""),-1<d.indexOf("#")){var h=d.split("#");d=h[0];l=p.getElementById(h[1]);if(!l||d&&l.nodeName.toLowerCase()!=d)return[];l=Array(l)}else if(-1<d.indexOf(".")){h=d.split(".");d=h[0];var g=h[1];d||(d="*");for(var h=[],k=0,r=0;r<l.length;r++){var q;q="*"==d?a(l[r]):l[r].getElementsByTagName(d);for(var n=0;n<q.length;n++)h[k++]=q[n]}l=[];for(k=d=0;k<h.length;k++)h[k].className&&c.Pa(h[k].className)&&b(h[k],
g)&&(l[d++]=h[k])}else if(h=d.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){d=h[1];var t=h[2],g=h[3],D=h[4];d||(d="*");h=[];for(r=k=0;r<l.length;r++)for(q="*"==d?a(l[r]):l[r].getElementsByTagName(d),n=0;n<q.length;n++)h[k++]=q[n];l=[];d=0;switch(g){case "=":g=function(a){return a.getAttribute(t)==D};break;case "~":g=function(a){return a.getAttribute(t).match(new RegExp("\\b"+D+"\\b"))};break;case "|":g=function(a){return a.getAttribute(t).match(new RegExp("^"+D+"-?"))};break;case "^":g=
function(a){return 0==a.getAttribute(t).indexOf(D)};break;case "$":g=function(a){return a.getAttribute(t).lastIndexOf(D)==a.getAttribute(t).length-D.length};break;case "*":g=function(a){return-1<a.getAttribute(t).indexOf(D)};break;default:g=function(a){return a.getAttribute(t)}}l=[];for(k=d=0;k<h.length;k++)g(h[k])&&(l[d++]=h[k])}else{h=[];for(r=k=0;r<l.length;r++)for(q=l[r].getElementsByTagName(d),n=0;n<q.length;n++)h[k++]=q[n];l=h}return l}}();c.info={Rb:function(){var a="",b={};c.g(["utm_source",
"utm_medium","utm_campaign","utm_content","utm_term"],function(e){a=c.hb(p.URL,e);a.length&&(b[e]=a)});return b},fc:function(a){return 0===a.search("https?://(.*)google.([^/?]*)")?"google":0===a.search("https?://(.*)bing.com")?"bing":0===a.search("https?://(.*)yahoo.com")?"yahoo":0===a.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},gc:function(a){var b=c.info.fc(a),e={};null!==b&&(e.$search_engine=b,a=c.hb(a,"yahoo"!=b?"q":"p"),a.length&&(e.mp_keyword=a));return e},ga:function(a,b,e){return e?
c.includes(a,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":c.includes(a,"FBIOS")?"Facebook Mobile":c.includes(a,"Chrome")?"Chrome":c.includes(a,"CriOS")?"Chrome iOS":c.includes(b||"","Apple")?c.includes(a,"Mobile")?"Mobile Safari":"Safari":c.includes(a,"Android")?"Android Mobile":c.includes(a,"Konqueror")?"Konqueror":c.includes(a,"Firefox")?"Firefox":c.includes(a,"MSIE")||c.includes(a,"Trident/")?"Internet Explorer":c.includes(a,"Gecko")?"Mozilla":""},cb:function(a,
b,e){b={Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/Chrome\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/Opera\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[c.info.ga(a,b,e)];return void 0==b?null:(a=a.match(b))?parseFloat(a[a.length-2]):null},Ra:function(){return/Windows/i.test(v)?
/Phone/.test(v)?"Windows Mobile":"Windows":/(iPhone|iPad|iPod)/.test(v)?"iOS":/Android/.test(v)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(v)?"BlackBerry":/Mac/i.test(v)?"Mac OS X":/Linux/.test(v)?"Linux":""},fb:function(a){return/iPad/.test(a)?"iPad":/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":/Windows Phone/i.test(a)?"Windows Phone":/Android/.test(a)?"Android":""},sb:function(a){a=a.split("/");return 3<=a.length?a[2]:""},xa:function(){return c.extend(c.ya({$os:c.info.Ra(),
$browser:c.info.ga(v,C.vendor,window.opera),$referrer:p.referrer,$referring_domain:c.info.sb(p.referrer),$device:c.info.fb(v)}),{$browser_version:c.info.cb(v,C.vendor,window.opera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:"2.5.1"})},dc:function(){return c.extend(c.ya({$os:c.info.Ra(),$browser:c.info.ga(v,C.vendor,window.opera)}),{$browser_version:c.info.cb(v,C.vendor,window.opera)})},cc:function(a){return c.ya({mp_page:a,mp_referrer:p.referrer,mp_browser:c.info.ga(v,
C.vendor,window.opera),mp_platform:c.info.Ra()})}};var t={log:function(){if(y&&!c.o(w)&&w)try{w.log.apply(w,arguments)}catch(a){c.g(arguments,function(a){w.log(a)})}},error:function(){if(y&&!c.o(w)&&w){var a=["Alooma error:"].concat(c.la(arguments));try{w.error.apply(w,a)}catch(b){c.g(a,function(a){w.error(a)})}}},ha:function(){if(!c.o(w)&&w){var a=["Alooma error:"].concat(c.la(arguments));try{w.error.apply(w,a)}catch(b){c.g(a,function(a){w.error(a)})}}}};x.prototype.va=function(){};x.prototype.c=
function(){};x.prototype.a=function(){};x.prototype.Oa=function(a){this.i=a;return this};x.prototype.track=function(a,b,e,f){var d=this,l=c.Wb(a);if(0==l.length)t.error("The DOM query ("+a+") returned 0 elements");else return c.g(l,function(a){c.aa(a,this.rb,function(a){var c={},l=d.va(e,this),m=d.i.h("track_links_timeout");d.c(a,this,c);window.setTimeout(d.m(f,l,c,!0),m);d.i.track(b,l,d.m(f,l,c))})},this),!0};x.prototype.m=function(a,b,c,f){f=f||!1;var d=this;return function(){c.Qb||(c.Qb=!0,a&&
!1===a(f,b)||d.a(b,c,f))}};x.prototype.va=function(a,b){return"function"===typeof a?a(b):c.extend({},a)};c.lb(E,x);E.prototype.va=function(a,b){var c=E.jc.va.apply(this,arguments);b.href&&(c.url=b.href);return c};E.prototype.c=function(a,b,c){c.qb=2===a.which||a.metaKey||a.ctrlKey||"_blank"===b.target;c.href=b.href;c.qb||a.preventDefault()};E.prototype.a=function(a,b){b.qb||setTimeout(function(){window.location=b.href},0)};c.lb(I,x);I.prototype.c=function(a,b,c){c.element=b;a.preventDefault()};I.prototype.a=
function(a,b){setTimeout(function(){b.element.submit()},0)};n.prototype.xa=function(){var a={};c.g(this.props,function(b,e){c.kb(Q,e)||(a[e]=b)});return a};n.prototype.N=function(){if(!this.disabled){var a=this.a.parse(this.name);a&&(this.props=c.extend({},a))}};n.prototype.Ea=function(a){var b=a.upgrade,e;b&&(e="mp_super_properties","string"===typeof b&&(e=b),b=this.a.parse(e),this.a.remove(e),this.a.remove(e,!0),b&&(this.props=c.extend(this.props,b.all,b.events)));!a.cookie_name&&"alooma"!==a.name&&
(e="mp_"+a.token+"_"+a.name,b=this.a.parse(e))&&(this.a.remove(e),this.a.remove(e,!0),this.S(b));this.a===c.localStorage&&(b=c.cookie.parse(this.name),c.cookie.remove(this.name),c.cookie.remove(this.name,!0),b&&this.S(b))};n.prototype.save=function(){this.disabled||(this.O(),this.a.set(this.name,c.qa(this.props),this.s,this.m,this.G))};n.prototype.remove=function(){this.a.remove(this.name,!1);this.a.remove(this.name,!0)};n.prototype.M=function(){this.remove();this.props={}};n.prototype.S=function(a,
b,e){return c.v(a)?("undefined"===typeof b&&(b="None"),this.s="undefined"===typeof e?this.A:e,c.g(a,function(a,c){this.props[c]&&this.props[c]!==b||(this.props[c]=a)},this),this.save(),!0):!1};n.prototype.register=function(a,b){return c.v(a)?(this.s="undefined"===typeof b?this.A:b,c.extend(this.props,a),this.save(),!0):!1};n.prototype.unregister=function(a){a in this.props&&(delete this.props[a],this.save())};n.prototype.O=c.C(function(){var a=this.props.__cmpns,b=y?6E4:36E5;if(a){for(var e in a)1*
new Date-a[e]>b&&delete a[e];c.$(a)&&delete this.props.__cmpns}});n.prototype.kc=function(){this.w||(this.S(c.info.Rb()),this.w=!0)};n.prototype.wb=function(a){this.register(c.info.gc(a))};n.prototype.Ua=function(a){this.S({$initial_referrer:a||"$direct",$initial_referring_domain:c.info.sb(a)||"$direct"},"")};n.prototype.Yb=function(){return c.ya({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};n.prototype.vb=function(a){this.A=this.s=
a.cookie_expiration;this.Ca(a.disable_persistence);this.oa(a.cross_subdomain_cookie);this.Da(a.secure_cookie)};n.prototype.Ca=function(a){(this.disabled=a)&&this.remove()};n.prototype.oa=function(a){a!==this.m&&(this.m=a,this.remove(),this.save())};n.prototype.ma=function(){return this.m};n.prototype.Da=function(a){a!==this.G&&(this.G=a?!0:!1,this.remove(),this.save())};n.prototype.K=function(a,b){var e=this.i(a),f=b[a],d=this.c("$set"),l=this.c("$set_once"),m=this.c("$add"),h=this.c("$union"),g=
this.c("$append",[]);"__mps"===e?(c.extend(d,f),this.Y("$add",f),this.Y("$union",f)):"__mpso"===e?c.g(f,function(a,b){b in l||(l[b]=a)}):"__mpa"===e?c.g(f,function(a,b){b in d?d[b]+=a:(b in m||(m[b]=0),m[b]+=a)},this):"__mpu"===e?c.g(f,function(a,b){c.isArray(a)&&(b in h||(h[b]=[]),h[b]=h[b].concat(a))}):"__mpap"===e&&g.push(f);t.log("ALOOMA PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):");t.log(b);this.save()};n.prototype.Y=function(a,b){var e=this.X(a);c.o(e)||(c.g(b,function(a,b){delete e[b]},this),
this.save())};n.prototype.i=function(a){if("$set"===a)return"__mps";if("$set_once"===a)return"__mpso";if("$add"===a)return"__mpa";if("$append"===a)return"__mpap";if("$union"===a)return"__mpu";t.error("Invalid queue:",a)};n.prototype.X=function(a){return this.props[this.i(a)]};n.prototype.c=function(a,b){var e=this.i(a);b=c.o(b)?{}:b;return this.props[e]||(this.props[e]=b)};k.prototype.Oa=function(a,b,c){if("undefined"===typeof c)t.error("You must name your new library: init(token, config, name)");
else if("alooma"===c)t.error("You must initialize the main alooma object right after you include the Alooma js snippet");else return a=H(a,b,c),u[c]=a,a.sa(),a};k.prototype.Fa=function(a,b,e){this.__loaded=!0;this.config={};this.N(c.extend({},R,b,{name:e,token:a,callback_fn:("alooma"===e?e:"alooma."+e)+"._jsc"}));this._jsc=function(){};this.i=[];this.m=[];this.c=[];this.da={disable_all_events:!1,identify_called:!1};this.persistence=this.cookie=new n(this.config);this.S({distinct_id:c.Cb()},"")};k.prototype.sa=
function(){this.h("loaded")(this);this.h("track_pageview")&&this.O()};k.prototype.Eb=function(){c.g(this.i,function(a){this.Ha.apply(this,a)},this);c.g(this.m,function(a){this.H.apply(this,a)},this);delete this.i;delete this.m};k.prototype.Ha=function(a,b){if(this.h("img"))return t.error("You can't use DOM tracking functions with img = true."),!1;if(!M)return this.i.push([a,b]),!1;var c=(new a).Oa(this);return c.track.apply(c,b)};k.prototype.Ga=function(a,b){if(c.o(a))return null;if(K)return function(c){a(c,
b)};var e=this._jsc,f=""+Math.floor(1E8*Math.random()),d=this.h("callback_fn")+'["'+f+'"]';e[f]=function(c){delete e[f];a(c,b)};return d};k.prototype.H=function(a,b,e){if(N)this.m.push(arguments);else{var f=this.h("verbose");b.verbose&&(f=!0);this.h("test")&&(b.test=1);f&&(b.verbose=1);this.h("img")&&(b.img=1);if(!K)if(e)b.callback=e;else if(f||this.h("test"))b.callback="(function(){})";b.ip=this.h("ip")?1:0;b._=(new Date).getTime().toString();a+="?"+c.Bb(b);if("img"in b){var d=p.createElement("img");
d.src=a;p.body.appendChild(d)}else if(K){var l=new XMLHttpRequest;l.open("GET",a,!0);l.withCredentials=!0;l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status)e&&(f?e(c.pa(l.responseText)):e(Number(l.responseText)));else{var a="Bad HTTP status: "+l.status+" "+l.statusText;t.error(a);e&&(f?e({status:0,error:a}):e(0))}};l.send(null)}else{d=p.createElement("script");d.type="text/javascript";d.async=!0;d.defer=!0;d.src=a;var m=p.getElementsByTagName("script")[0];m.parentNode.insertBefore(d,
m)}}};k.prototype.s=function(a){function b(a,b){c.g(a,function(a){this[a[0]].apply(this,a.slice(1))},b)}var e,f=[],d=[],l=[];c.g(a,function(a){a&&(e=a[0],"function"===typeof a?a.call(this):c.isArray(a)&&"alias"===e?f.push(a):c.isArray(a)&&-1!=e.indexOf("track")&&"function"===typeof this[e]?l.push(a):d.push(a))},this);b(f,this);b(d,this);b(l,this)};k.prototype.push=function(a){this.s([a])};k.prototype.ma=function(a){"undefined"===typeof a?this.da.Tb=!0:this.c=this.c.concat(a)};k.prototype.track=function(a,
b,e){if("undefined"===typeof a)t.error("No event name provided to alooma.track");else if(c.mb(v)||this.da.Tb||c.kb(this.c,a))"undefined"!==typeof e&&e(0);else return properties=b||{},properties.token=this.h("token"),this.persistence.wb(p.referrer),this.h("store_google")&&this.persistence.kc(),this.h("save_referrer")&&this.persistence.Ua(p.referrer),properties=c.extend({},c.info.xa(),this.persistence.xa(),properties),b={},b.event=a,b.properties=properties,a=c.truncate(b,255),b=c.qa(a),b=c.ab(b),t.log("ALOOMA REQUEST:"),
t.log(a),this.H(this.h("api_host")+"/track/",{data:b},this.Ga(e,a)),a};k.prototype.O=function(a){"undefined"===typeof a&&(a=p.location.href);this.track("mp_page_view",c.info.cc(a))};k.prototype.Ea=function(){return this.Ha.call(this,E,arguments)};k.prototype.Da=function(){return this.Ha.call(this,I,arguments)};k.prototype.register=function(a,b){this.persistence.register(a,b)};k.prototype.S=function(a,b,c){this.persistence.S(a,b,c)};k.prototype.unregister=function(a){this.persistence.unregister(a)};
k.prototype.w=function(a,b){var c={};c[a]=b;this.register(c)};k.prototype.A=function(a,b,c,f,d,l){a!=this.Z()&&a!=this.a("__alias")&&(this.unregister("__alias"),this.w("distinct_id",a));this.G(this.Z());this.da.ib=!0;this.people.Fb(b,c,f,d,l)};k.prototype.Z=function(){return this.a("distinct_id")};k.prototype.oa=function(a,b){if(a===this.a("$people_distinct_id"))return t.ha("Attempting to create alias for existing People user - aborting."),-2;var e=this;c.o(b)&&(b=this.Z());if(a!==b)return this.w("__alias",
a),this.track("$create_alias",{alias:a,distinct_id:b},function(){e.A(a)});t.error("alias matches current distinct_id - skipping api call.");this.A(a);return-1};k.prototype.Ca=function(a){this.w("mp_name_tag",a)};k.prototype.N=function(a){c.v(a)&&(c.extend(this.config,a),this.h("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.h("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.vb(this.config),y=y||
this.h("debug"))};k.prototype.h=function(a){return this.config[a]};k.prototype.a=function(a){return this.persistence.props[a]};k.prototype.toString=function(){var a=this.h("name");"alooma"!==a&&(a="alooma."+a);return a};k.prototype.G=function(a){if(a&&!this.da.ib&&!this.h("disable_notifications")){t.log("ALOOMA NOTIFICATION CHECK");var b=this;this.H(this.h("api_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:this.h("token"),distinct_id:a},this.Ga(function(a){a.notifications&&0<a.notifications.length&&
b.M.call(b,a.notifications[0])}))}};k.prototype.M=function(a){(new g(a,this)).show()};q.prototype.Fa=function(a){this.a=a};q.prototype.set=function(a,b,e){var f={},d={};c.v(a)?(c.g(a,function(a,b){this.ea(b)||(d[b]=a)},this),e=b):d[a]=b;this.c("save_referrer")&&this.a.persistence.Ua(p.referrer);d=c.extend({},c.info.dc(),this.a.persistence.Yb(),d);f.$set=d;return this.H(f,e)};q.prototype.w=function(a,b,e){var f={},d={};c.v(a)?(c.g(a,function(a,b){this.ea(b)||(d[b]=a)},this),e=b):d[a]=b;f.$set_once=
d;return this.H(f,e)};q.prototype.s=function(a,b,e){var f={},d={};c.v(a)?(c.g(a,function(a,b){this.ea(b)||(isNaN(parseFloat(a))?t.error("Invalid increment value passed to alooma.people.increment - must be a number"):d[b]=a)},this),e=b):(c.o(b)&&(b=1),d[a]=b);f.$add=d;return this.H(f,e)};q.prototype.i=function(a,b,e){var f={},d={};c.v(a)?(c.g(a,function(a,b){this.ea(b)||(d[b]=a)},this),e=b):d[a]=b;f.$append=d;return this.H(f,e)};q.prototype.A=function(a,b,e){var f={},d={};c.v(a)?(c.g(a,function(a,
b){this.ea(b)||(d[b]=c.isArray(a)?a:[a])},this),e=b):d[a]=c.isArray(b)?b:[b];f.$union=d;return this.H(f,e)};q.prototype.O=function(a,b,e){if(!c.ac(a)&&(a=parseFloat(a),isNaN(a))){t.error("Invalid value passed to alooma.people.track_charge - must be a number");return}return this.i("$transactions",c.extend({$amount:a},b),e)};q.prototype.M=function(a){return this.set("$transactions",[],a)};q.prototype.N=function(){if(this.m())return this.H({$delete:this.a.Z()});t.error("alooma.people.delete_user() requires you to call identify() first")};
q.prototype.toString=function(){return this.a.toString()+".people"};q.prototype.H=function(a,b){a.$token=this.c("token");a.$distinct_id=this.a.Z();var e=c.gb(a),f=c.truncate(e,255),e=c.qa(e),e=c.ab(e);if(!this.m())return this.G(a),c.o(b)||(this.c("verbose")?b({status:-1,error:null}):b(-1)),f;t.log("ALOOMA PEOPLE REQUEST:");t.log(f);this.a.H(this.c("api_host")+"/engage/",{data:e},this.a.Ga(b,f));return f};q.prototype.c=function(a){return this.a.h(a)};q.prototype.m=function(){return!0===this.a.da.ib};
q.prototype.G=function(a){"$set"in a?this.a.persistence.K("$set",a):"$set_once"in a?this.a.persistence.K("$set_once",a):"$add"in a?this.a.persistence.K("$add",a):"$append"in a?this.a.persistence.K("$append",a):"$union"in a?this.a.persistence.K("$union",a):t.error("Invalid call to _enqueue():",a)};q.prototype.Fb=function(a,b,e,f,d){var l=this,g=c.extend({},this.a.persistence.X("$set")),h=c.extend({},this.a.persistence.X("$set_once")),k=c.extend({},this.a.persistence.X("$add")),n=this.a.persistence.X("$append"),
r=c.extend({},this.a.persistence.X("$union"));c.o(g)||!c.v(g)||c.$(g)||(l.a.persistence.Y("$set",g),this.set(g,function(b,e){0==b&&l.a.persistence.K("$set",g);c.o(a)||a(b,e)}));c.o(h)||!c.v(h)||c.$(h)||(l.a.persistence.Y("$set_once",h),this.w(h,function(a,b){0==a&&l.a.persistence.K("$set_once",h);c.o(f)||f(a,b)}));c.o(k)||!c.v(k)||c.$(k)||(l.a.persistence.Y("$add",k),this.s(k,function(a,e){0==a&&l.a.persistence.K("$add",k);c.o(b)||b(a,e)}));c.o(r)||!c.v(r)||c.$(r)||(l.a.persistence.Y("$union",r),
this.A(r,function(a,b){0==a&&l.a.persistence.K("$union",r);c.o(d)||d(a,b)}));if(!c.o(n)&&c.isArray(n)&&n.length){for(var p=n.length-1;0<=p;p--){var q=n.pop();l.i(q,function(a,b){0==a&&l.a.persistence.K("$append",q);c.o(e)||e(a,b)})}l.a.persistence.save()}};q.prototype.ea=function(a){return"$distinct_id"===a||"$token"===a};k.a=function(a,b){c.Ob(this);this.Ja=b;this.Sa=this.Ja.persistence;this.P=c.I(a.id);this.pb=c.I(a.message_id);this.body=(c.I(a.body)||"").replace(/\n/g,"<br/>");this.Sb=c.I(a.cta)||
"Close";this.ia=c.I(a.cta_url)||null;this.Na=c.I(a.image_url)||null;this.ja=c.I(a.type)||"takeover";this.style=c.I(a.style)||"light";this.T=c.I(a.thumb_image_url)||null;this.title=c.I(a.title)||"";this.Ba=c.I(a.video_url)||null;this.na=g.oa;this.ca=g.ma;this.ua=!0;this.ia||(this.ia="#dismiss",this.ua=!1);this.J="mini"===this.ja;this.J||(this.ja="takeover");this.bc=this.J?g.M:g.w;this.Za();this.wa=this.Gb();this.Jb()};var g=k.a;g.s=200;g.a="alooma-notification";g.A=.6;g.i=25;g.G=200;g.w=388;g.M=420;
g.c=85;g.N=5;g.m=60;g.O=Math.round(g.m/2);g.oa=595;g.ma=334;g.prototype.show=function(){var a=this;this.Za();this.D?(this.Ib(),this.Hb(),this.Kb(this.Db)):setTimeout(function(){a.show()},300)};g.prototype.La=c.C(function(){this.ob||this.Xa({invisible:!0});var a=this.hc?this.l("video"):this.W();if(this.xb)this.Lb("bg","visible"),this.U(a,"exiting"),setTimeout(this.Ya,g.s);else{var b,c,f;this.J?(b="right",c=20,f=-100):(b="top",c=g.i,f=g.G+g.i);this.ra([{F:this.l("bg"),B:"opacity",start:g.A,u:0},{F:a,
B:"opacity",start:1,u:0},{F:a,B:b,start:c,u:f}],g.s,this.Ya)}});g.prototype.U=c.C(function(a,b){b=g.a+"-"+b;"string"===typeof a&&(a=this.l(a));a.className?~(" "+a.className+" ").indexOf(" "+b+" ")||(a.className+=" "+b):a.className=b});g.prototype.Lb=c.C(function(a,b){b=g.a+"-"+b;"string"===typeof a&&(a=this.l(a));a.className&&(a.className=(" "+a.className+" ").replace(" "+b+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))});g.prototype.ra=c.C(function(a,b,c,f){var d=this,l=!1,g,h;g=1*new Date;
var k;f=f||g;k=g-f;for(g=0;g<a.length;g++)if(h=a[g],"undefined"===typeof h.R&&(h.R=h.start),h.R!==h.u){var l=!0,n=h.u>=h.start?1:-1;h.R=h.start+(h.u-h.start)*k/b;"opacity"!==h.B&&(h.R=Math.round(h.R));if(0<n&&h.R>=h.u||0>n&&h.R<=h.u)h.R=h.u}if(l){for(g=0;g<a.length;g++)h=a[g],h.F&&(h.F.style[h.B]=String(h.R)+("opacity"===h.B?"":"px"));setTimeout(function(){d.ra(a,b,c,f)},10)}else c&&c()});g.prototype.Db=c.C(function(){var a=this;this.ic||this.Va()[this.P]||(this.ic=!0,this.D.appendChild(this.ka),
setTimeout(function(){var b=a.W();if(a.xb)a.J||a.U("bg","visible"),a.U(b,"visible"),a.Wa();else{var c,f,d;a.J?(c="right",f=-100,d=20):(c="top",f=g.G+g.i,d=g.i);a.ra([{F:a.l("bg"),B:"opacity",start:0,u:g.A},{F:b,B:"opacity",start:0,u:1},{F:b,B:c,start:f,u:d}],g.s,a.Wa)}},100),c.aa(a.l("cancel"),"click",function(b){b.preventDefault();a.La()}),c.aa(a.l("button")||a.l("mini-content"),"click",function(b){b.preventDefault();a.ba?(a.Ia("$campaign_open",{$resource_type:"video"}),a.Mb()):(a.La(),a.ua&&a.Ia("$campaign_open",
{$resource_type:"link"},function(){window.location.href=a.ia}))}))});g.prototype.l=function(a){return p.getElementById(g.a+"-"+a)};g.prototype.W=function(){return this.l(this.ja)};g.prototype.Va=function(){return this.Sa.props.__cmpns||(this.Sa.props.__cmpns={})};g.prototype.V=function(a,b){return this.L[a]&&this.L[a]<=b};g.prototype.Gb=function(){var a=[];this.J?(this.T=this.T||"//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png",a.push(this.T)):(this.Na?(a.push(this.Na),this.jb=
'<img id="img" src="'+this.Na+'"/>'):this.jb="",this.T?(a.push(this.T),this.ub='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.T+'" width="'+g.m+'" height="'+g.m+'"/><div id="thumbspacer"></div>'):this.ub="");return a};g.prototype.Hb=function(){var a="",b="",c="";this.ka=p.createElement("div");this.ka.id=g.a+"-wrapper";if(this.J)a='<div id="mini"><div id="mainbox"><div id="cancel"><div id="cancel-icon"></div></div><div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+
this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var a=this.ua||this.ba?"":'<div id="button-close"></div>',f=this.ba?'<div id="button-play"></div>':"";this.V("ie",7)&&(f=a="");a='<div id="takeover">'+this.ub+'<div id="mainbox"><div id="cancel"><div id="cancel-icon"></div></div><div id="content">'+this.jb+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://alooma.com?from=inapp" target="_blank">POWERED BY ALOOMA</a></div></div><div id="button">'+
a+'<a id="button-link" href="'+this.ia+'">'+this.Sb+"</a>"+f+"</div></div></div>"}this.zb?(b="//www.youtube.com/embed/"+this.zb+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.Ab&&(b+="&enablejsapi=1&html5=1&controls=0",c='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):
this.yb&&(b="//player.vimeo.com/video/"+this.yb+"?autoplay=1&title=0&byline=0&portrait=0");this.ba&&(this.mc='<iframe id="'+g.a+'-video-frame" width="'+this.na+'" height="'+this.ca+'"  src="'+b+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',c='<div id="video-'+(this.Ma?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+c+"</div></div>");b=c+a;this.Ma&&(b=(this.J?a:"")+'<div id="flipcontainer"><div id="flipper">'+(this.J?c:b)+"</div></div>");
this.ka.innerHTML=('<div id="overlay" class="'+this.ja+'"><div id="campaignid-'+this.P+'"><div id="bgwrapper"><div id="bg"></div>'+b+"</div></div></div>").replace(/class=\"/g,'class="'+g.a+"-").replace(/id=\"/g,'id="'+g.a+"-")};g.prototype.Ib=function(){"dark"===this.style?this.j={Ka:"#1d1f25",fa:"#282b32",ta:"#3a4147",bb:"#4a5157",Pb:"#32353c",eb:"0.4",Qa:"#2a3137",Aa:"#fff",Ta:"#9498a3",tb:"#464851",za:"#ddd"}:this.j={Ka:"#fff",fa:"#e7eaee",ta:"#eceff3",bb:"#f5f5f5",Pb:"#e4ecf2",eb:"1.0",Qa:"#fafafa",
Aa:"#5c6578",Ta:"#8b949b",tb:"#ced9e6",za:"#7c8598"};var a="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",b=a,e=a,f=g.m+2*g.N,d=g.s/1E3+"s";this.J&&(a="none");var l={};l["@media only screen and (max-width: "+(g.M+20-1)+"px)"]={"#overlay":{display:"none"}};a={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased",
"-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.Vb+"px","min-height":4*this.Ub+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",
transition:"opacity "+d},"#bg.visible":{opacity:g.A},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:g.w+"px","margin-left":Math.round(-g.w/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:g.G+"px",transition:"opacity "+d+", top "+d},"#takeover.visible":{opacity:"1.0",
top:g.i+"px"},"#takeover.exiting":{opacity:"0.0",top:g.G+"px"},"#thumbspacer":{height:g.O+"px"},"#thumbborder-wrapper":{position:"absolute",top:-g.N+"px",left:g.w/2-g.O-g.N+"px",width:f+"px",height:f/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:f+"px",height:f+"px","border-radius":f+"px","background-color":this.j.fa,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:g.w/2-g.O+"px",width:g.m+"px",height:g.m+"px",overflow:"hidden","z-index":"100","border-radius":g.m+
"px"},"#mini":{position:"absolute",right:"20px",top:g.i+"px",width:this.bc+"px",height:2*g.c+"px","margin-top":20-g.c+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":a,"text-align":"center","background-color":this.j.Ka,"font-size":"14px",color:this.j.Ta},"#mini #mainbox":{height:g.c+
"px","margin-top":g.c+"px","border-radius":"3px",transition:"background-color "+d},"#mini-border":{height:g.c+6+"px",width:g.M+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":g.c+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":e},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:g.c+"px","border-radius":"3px 0 0 3px","background-color":this.j.fa,background:"linear-gradient(135deg, "+this.j.bb+" 0%, "+this.j.fa+
" 100%)",transition:"background-color "+d},"#mini:hover #mini-icon":{"background-color":this.j.Qa},"#mini:hover #mainbox":{"background-color":this.j.Qa},"#mini-icon-img":{position:"absolute","background-image":"url("+this.T+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:g.c+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden",
"word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.j.Aa},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:g.c+"px","font-size":"16px","letter-spacing":"0.8px",color:this.j.Aa},"#mini #body-text":{display:"table",height:g.c+"px"},"#mini #body-text div":{display:"table-cell",
"vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.j.tb,transition:"color "+d},"#tagline a:hover":{color:this.j.za},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+d},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",
height:"8px",overflow:"hidden","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)",opacity:this.j.eb},"#cancel:hover":{"background-color":this.j.ta},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.j.fa,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+d},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top",
"background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center",
"font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.j.Aa,transition:"color "+d},"#button:hover":{"background-color":this.j.ta,color:this.j.za},"#button:hover a":{color:this.j.za},"#video-noflip":{position:"relative",top:2*-this.ca+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.na-1+"px",height:this.ca+"px",top:g.i+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.na/
2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":b,transform:"translateZ(1px)",transition:"opacity "+d+", top "+d},"#video.exiting":{opacity:"0.0",top:this.ca+"px"},"#video-holder":{position:"absolute",width:this.na-1+"px",height:this.ca+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.na+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",
bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.j.Ka,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.j.Ta,"background-color":"#666","border-radius":"0 0 5px 0"}};this.V("ie",8)&&c.extend(a,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}});
this.V("ie",7)&&c.extend(a,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.j.ta},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});var b="backface-visibility border-radius box-shadow opacity perspective transform transform-style transition".split(" "),e=["khtml","moz","ms","o","webkit"],k;for(k in a)for(f=0;f<b.length;f++)if(d=b[f],d in a[k])for(var h=a[k][d],n=0;n<e.length;n++)a[k]["-"+e[n]+"-"+d]=h;(function(a,b){function c(a){var b="",d;for(d in a){var e=
d.replace(/#/g,"#"+g.a+"-").replace(/\./g,"."+g.a+"-"),b=b+("\n"+e+" {"),e=a[d],f;for(f in e)b+=f+":"+e[f]+";";b+="}"}return b}var e=c(a)+function(a){var b="",e;for(e in a)b+="\n"+e+" {"+c(a[e])+"\n}";return b}(b),d=p.createElement("style");(p.head||p.getElementsByTagName("head")[0]||p.documentElement).appendChild(d);d.setAttribute("type","text/css");d.styleSheet?d.styleSheet.cssText=e:d.textContent=e})(a,l)};g.prototype.Jb=c.C(function(){if(this.Ba){var a=this;a.Ab="postMessage"in window;a.ia=a.Ba;
var b=a.Ba.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),c=a.Ba.match(/vimeo\.com\/.*?(\d+)/i);b?(a.ba=!0,a.zb=b[1],a.Ab&&(window.onYouTubeIframeAPIReady=function(){a.l("video-frame")&&a.$a()},b=p.createElement("script"),b.src="//www.youtube.com/iframe_api",c=p.getElementsByTagName("script")[0],c.parentNode.insertBefore(b,c))):c&&(a.ba=!0,a.yb=c[1]);if(a.V("ie",7)||a.V("firefox",3))a.ba=!1,a.ua=!0}});g.prototype.Wa=c.C(function(){function a(a,
b){var c={};p.defaultView&&p.defaultView.getComputedStyle?c=p.defaultView.getComputedStyle(a,null):a.currentStyle&&(c=a.currentStyle);return c[b]}var b=this;c.aa(b.l("bg"),"click",function(){b.La()});if(this.P){var e=this.l("overlay");e&&"hidden"!==a(e,"visibility")&&"none"!==a(e,"display")&&this.Xa()}});g.prototype.Xa=c.C(function(a){this.ob||(this.ob=!0,this.P&&(this.Va()[this.P]=1*new Date,this.Sa.save()),this.Ia("$campaign_delivery",a),this.Ja.people.append({$campaigns:this.P,$notifications:{campaign_id:this.P,
message_id:this.pb,type:"web",time:new Date}}))});g.prototype.Kb=function(a){var b=this;if(0===this.wa.length)a();else{for(var c=0,f=[],d=0;d<this.wa.length;d++){var g=new Image,k=function(){c++;c===b.wa.length&&a&&(a(),a=null)};g.onload=k;g.src=this.wa[d];g.complete&&k();f.push(g)}this.V("ie",7)&&setTimeout(function(){var b=!0;for(d=0;d<f.length;d++)f[d].complete||(b=!1);b&&a&&(a(),a=null)},500)}};g.prototype.Ya=c.C(function(){window.clearInterval(this.Nb);this.ka.style.visibility="hidden";this.D.removeChild(this.ka)});
g.prototype.Za=function(){function a(a){if(a in f)return!0;if(!c){a=a[0].toUpperCase()+a.slice(1);a=["O"+a,"Webkit"+a,"Moz"+a];for(var b=0;b<a.length;b++)if(a[b]in f)return!0}return!1}function b(a){return(a=C.userAgent.match(a))&&a[1]}this.L={};this.L.chrome=b(/Chrome\/(\d+)/);this.L.firefox=b(/Firefox\/(\d+)/);this.L.ie=b(/MSIE (\d+).+/);!this.L.ie&&!window.ActiveXObject&&"ActiveXObject"in window&&(this.L.ie=11);if(this.D=p.body||p.getElementsByTagName("body")[0])this.Vb=Math.max(this.D.scrollWidth,
p.documentElement.scrollWidth,this.D.offsetWidth,p.documentElement.offsetWidth,this.D.clientWidth,p.documentElement.clientWidth),this.Ub=Math.max(this.D.scrollHeight,p.documentElement.scrollHeight,this.D.offsetHeight,p.documentElement.offsetHeight,this.D.clientHeight,p.documentElement.clientHeight);var c=this.L.ie,f=p.createElement("div").style;this.xb=this.D&&a("transition")&&a("transform");this.Ma=(33<=this.L.chrome||15<=this.L.firefox)&&this.D&&a("backfaceVisibility")&&a("perspective")&&a("transform")};
g.prototype.Mb=c.C(function(){function a(){window.YT&&window.YT.loaded&&b.$a();b.hc=!0;b.W().style.visibility="hidden"}var b=this,c=[{F:b.W(),B:"opacity",start:1,u:0},{F:b.W(),B:"top",start:g.i,u:-500},{F:b.l("video-noflip"),B:"opacity",start:0,u:1},{F:b.l("video-noflip"),B:"top",start:2*-b.ca,u:0}];if(b.J){var f=b.l("bg"),d=b.l("overlay");f.style.width="100%";f.style.height="100%";d.style.width="100%";b.U(b.W(),"exiting");b.U(f,"visible");c.push({F:b.l("bg"),B:"opacity",start:0,u:g.A})}b.l("video-holder").innerHTML=
b.mc;b.Ma?(b.U("flipper","flipped"),setTimeout(a,g.s)):b.ra(c,g.s,a)});g.prototype.Ia=function(a,b,e){this.P?(b=b||{},b=c.extend(b,{campaign_id:this.P,message_id:this.pb,message_type:"web_inapp",message_subtype:this.ja}),this.Ja.track(a,b,e)):e&&e.call()};g.prototype.$a=c.C(function(){var a=this;if(!a.nc){a.nc=!0;var b=a.l("video-elapsed"),e=a.l("video-time"),f=a.l("video-progress");new window.YT.Player(g.a+"-video-frame",{events:{onReady:function(d){function g(a){a=Math.round(h-a);var b=Math.floor(a/
60),c=Math.floor(b/60);a-=60*b;e.innerHTML="-"+(c?c+":":"")+("00"+(b-60*c)).slice(-2)+":"+("00"+a).slice(-2)}var k=d.target,h=k.getDuration();g(0);a.Nb=window.setInterval(function(){var a=k.getCurrentTime();b.style.width=a/h*100+"%";g(a)},250);c.aa(f,"click",function(a){a=Math.max(0,a.pageX-f.getBoundingClientRect().left);k.seekTo(h*a/f.clientWidth,!0)})}}})}});c.toArray=c.la;c.isObject=c.v;c.JSONEncode=c.qa;c.JSONDecode=c.pa;c.isBlockedUA=c.mb;c.isEmptyObject=c.$;c.info=c.info;c.info.device=c.info.fb;
c.info.browser=c.info.ga;k.prototype.init=k.prototype.Oa;k.prototype.disable=k.prototype.ma;k.prototype.track=k.prototype.track;k.prototype.track_links=k.prototype.Ea;k.prototype.track_forms=k.prototype.Da;k.prototype.track_pageview=k.prototype.O;k.prototype.register=k.prototype.register;k.prototype.register_once=k.prototype.S;k.prototype.unregister=k.prototype.unregister;k.prototype.identify=k.prototype.A;k.prototype.alias=k.prototype.oa;k.prototype.name_tag=k.prototype.Ca;k.prototype.set_config=
k.prototype.N;k.prototype.get_config=k.prototype.h;k.prototype.get_property=k.prototype.a;k.prototype.get_distinct_id=k.prototype.Z;k.prototype.toString=k.prototype.toString;k.prototype._check_and_handle_notifications=k.prototype.G;k.prototype._show_notification=k.prototype.M;n.prototype.properties=n.prototype.xa;n.prototype.update_search_keyword=n.prototype.wb;n.prototype.update_referrer_info=n.prototype.Ua;n.prototype.get_cross_subdomain=n.prototype.ma;n.prototype.clear=n.prototype.M;q.prototype.set=
q.prototype.set;q.prototype.set_once=q.prototype.w;q.prototype.increment=q.prototype.s;q.prototype.append=q.prototype.i;q.prototype.union=q.prototype.A;q.prototype.track_charge=q.prototype.O;q.prototype.clear_charges=q.prototype.M;q.prototype.delete_user=q.prototype.N;q.prototype.toString=q.prototype.toString;c.ec(k);if(c.o(u))t.ha("'alooma' object not initialized. Ensure you are using the latest version of the Alooma JS Library along with the snippet we provide.");else if(u.__loaded||u.config&&u.persistence)t.error("Alooma library has already been downloaded at least once.");
else if(1.1>B)t.ha("Version mismatch; please ensure you're using the latest version of the Alooma code snippet.");else{var A={};c.g(u._i,function(a){var b;a&&c.isArray(a)&&(b=a[a.length-1],a=H.apply(this,a),A[b]=a)});var S=function(){c.g(A,function(a,b){"alooma"!==b&&(u[b]=a)});u._=c};u.init=function(a,b,c){c?u[c]||(u[c]=A[c]=H(a,b,c),u[c].sa()):(c=u,A.alooma?c=A.alooma:a&&(c=H(a,b,"alooma"),c.sa()),window.alooma=u=c,S())};u.init();c.g(A,function(a){a.sa()});if(p.addEventListener)"complete"==p.readyState?
z():p.addEventListener("DOMContentLoaded",z,!1);else if(p.attachEvent){p.attachEvent("onreadystatechange",z);B=!1;try{B=null==window.frameElement}catch(a){}if(p.documentElement.doScroll&&B){var O=function(){try{p.documentElement.doScroll("left")}catch(a){setTimeout(O,1);return}z()};O()}}c.aa(window,"load",z,!0)}})(window.alooma);
})();
